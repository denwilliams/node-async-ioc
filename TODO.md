You shouldnt be able to add youself as a dependency!

register('service1', factory, ['service2', 'service1']);
